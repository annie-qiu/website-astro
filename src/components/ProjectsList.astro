---
import "../styles/global.scss";
import { getCollection } from "astro:content";
const projects = await getCollection("projects");

---
<div class="w-auto h-dvh overflow-auto p-4 sm:p-6">
  <aside class="flex flex-col gap-3 w-auto">
    <div><a class="" href="/">‚Üê home</a></div>
    <div class="flex flex-col gap-1 mt-2 cursor-default">
      <a href="/projects">PROJECTS</a>
      <div>***</div>
    </div>
    {projects.map((project) => { 
      if (!project.data.archive) return (
      <a href={`/projects/${project.slug}`} class="hover">
        <div class="grid grid-cols-[2fr_1fr_0.5fr] sm:grid-cols-1 md:grid-cols-[1.8fr_1fr] lg:grid-cols-[1.8fr_1.1fr_0.7fr] gap-5 w-full">
          <div class="">{project.data.title}</div>
          <div class="font-light inline sm:hidden md:inline">{project.data.description}</div>
          <div class="font-light text-dark-green/70 inline sm:hidden md:hidden  lg:inline">{project.data.year}</div>
        </div>
      </a>
    )})}
    
    <div class="flex flex-col gap-1 mt-2 cursor-default">
      <div>ARCHIVE</div>
      <div>***</div>
    </div>
    {projects.map((project) => { 
      if (project.data.archive) return (
      <a href={`/projects/${project.slug}`} class="hover">
        <div class="grid grid grid-cols-[2fr_1fr_0.5fr] sm:grid-cols-1 md:grid-cols-[1.8fr_1fr] lg:grid-cols-[1.8fr_1.1fr_0.7fr] gap-5 w-full">
          <div class="">{project.data.title}</div>
          <div class="font-light sm:hidden md:inline">{project.data.description}</div>
          <div class="font-light text-dark-green/70 inline sm:hidden md:hidden lg:inline">{project.data.year}</div>
        </div>
      </a>
    )})}
  </aside>
</div>