---
import "../styles/global.scss";
import Layout from '../layouts/Layout.astro';
import { bookList } from "../data/books";
import { Image } from "astro:assets";

const years = [2024, 2023, 2022, 2021];
---

<Layout title={"Books"}>
  <div>
    <div><a class="" href="/">← home</a></div>
    <br>
    <div class="text-base mt-2 mb-4 text-center">Books</div>
    <div class="text-sm m-auto mb-4 text-center max-w-[40em]">
      <span class="text-2xl">✧</span> = would recommend
    </div>
    <br>
    <div class="flex flex-col gap-6">
      {years.map((year) => 
      <div>
        {/* display year */}
        <div class="flex">
          <p class="m-auto text-sm pb-2">{year}</p>
        </div>
        {/* display books under year */}
        <div class="flex max-w-[80em] m-auto">
          <div class="text-sm grid grid-cols-2 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-5 md:gap-2 m-auto max-w-10/12">
          {bookList.filter((book) => (book.year === year)).map((book) => 
            <div class="h-full w-full p-1 sm:p-2 sm:my-2 m-auto flex flex-col md:flex-row items-center gap-3 sm:gap-4">
              <div class="h-auto w-full sm:w-[10em] md:w-1/3">
                <Image src={book.img} loading="lazy" alt={book.title} inferSize class=" w-full sm:w-full md:w-44 m-auto rounded-sm hover:scale-[1.03] transition-all"/>
              </div>
              <div class="w-full sm:w-[10em] md:w-2/3">
                <div class="text-xs">{book.title}</div>
                <div class="pt-1 italic text-xs">{book.author}</div>
                {book.rec? 
                  <div class="text-2xl">✧</div>: ""}
              </div>
            </div>
          )}
          </div>
        </div>
        <br>
      </div>
      )}
    </div>

    </div>
  </div>
</Layout>